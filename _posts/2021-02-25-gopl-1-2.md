---
layout: post
title: "The Go Programming Language #1.2: 커맨드 라인 인수"
subtitle: "The Go Programming Language 책 내용 정리"
author: "karais89"
header-img: "img/post-bg-golang.jpg"
header-mask: 0.4
catalog: true
tags: [gopl, golang]
---

> The Go Programming Language 책 내용 정리

## 1.2 커맨드 라인 인수

- 슬라이스: 동적인 크기를 갖는 배열 원소의 모음 정도로 생각
- 변수 선언 중 값을 명시적으로 초기화 하지 않은 경우 제로값으로 초기화 됨 (0, "")
- := 기호는 짧은 변수 선언

### echo1

```go
// chapter01/echo1/main.go
package main

import "fmt"
import "os"

func main() {
	var s, sep string
	for i := 1; i < len(os.Args); i++ {
		s += sep + os.Args[i]
		sep = " "
	}
	fmt.Println(s)
}
```
- go run main.go 1 first args 명령어 등으로 인자 삽입
- or goland 설정에서 인자 삽입 가능 (Program arguments)

### Go의 유일한 반복문 for문

```go
// 일반적인 for문
for 초기화; 조건; 후처리 {

}

// while 문
for 조건 {

}

// 무한 루프
for {

}
```

### echo2

```go
package main

import "fmt"
import "os"

func main() {
	s, sep := "", ""
	for _, arg := range os.Args[1:] {
		s += sep + arg
		sep = " "
	}
	fmt.Println(s)
}
```

- for문으로 슬라이스 값 범위에 걸쳐 반복되는 형태도 가능하다.
- range은 각 반복에서 값의 쌍을 생성한다. (인덱스와 원소의 값)

### echo3

```go
package main

import (
	"fmt"
	"os"
	"strings"
)

func main() {
	fmt.Println(strings.Join(os.Args[1:], " "))
}
```

- strings 패키지의 join 함수 사용

### exam 1-1

```go
package main

func main() {
	fmt.Println(strings.Join(os.Args, " "))
}
```

- os.Args[0]도 같이 출력

### exam 1-2

```go
package main

import "fmt"
import "os"

func main() {
	for i, arg := range os.Args[1:] {
		fmt.Println(i, arg)
	}
}
```

- 각 인자의 인덱스와 값을 한 줄에 하나씩 출력

### exam 1-3

```go
package main

import (
	"fmt"
	"os"
	"strconv"
	"strings"
	"time"
)

func main() {
	start := time.Now()
	var s, sep string
	for i := 1; i < 10000; i++ {
		s += sep + strconv.Itoa(i)
		sep = " "
	}
	fmt.Println(s)
	fmt.Println(strings.Join(os.Args[1:], " "))
	duration := time.Since(start)
	fmt.Println(duration.Nanoseconds())

}
```

- 비 효율적 버전과 string.join을 사용하는 버전의 시간 체크
- time 패키지 사용
- 위 방식을 사용하는 것 같은데 너무 빨리 되기 때문에 체크가 안됨. 벤치마크 하는 방법을 사용해야 됨.